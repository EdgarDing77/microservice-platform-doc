# 前端文档

## Introduction

## 一、项目概览

### 1.1 项目结构

```
|-assets
|     |-css                     // 样式
|     |-images                  // 图片
|     |-libs                    // 第三方库
|
|-pages            // html组件
|     |-system                  // 系统管理页面
|     |-xxxxxx                  // 其他业务页面
|     |-tpl                     // 公用组件
|     |     |-message.html                 // 消息
|     |-console.html            // 主页一
|     |-header.html             // 头部
|     |-side.html               // 侧导航
|
|-module                // js模块 (使用layui的模块开发方式)
|     |-admin.js                // admin模块
|     |-config.js                // config模块
|     |-index.js                // index模块
|
|-index.html            // 主界面
|-login.html            // 登陆界面
```

> 不分离版没有pages目录，不分离版的页面由后台输出，前端只有assets和module

## 1.2 开发规范

1. css、图片、第三方lib（layui扩展模块除外）全部放在“/assets/”下面；
2. layui扩展模块放在“module”下面，例如项目里面“formSelects”模块；
3. 页面html放在“pages”下面。

> 注意：不分离版本html不需要放在“pages”下面，随便放，因为是后端渲染，前端只需要访问后端的url。 比如我这里不分离版本是放在templates目录下面，templates是SpringBoot默认的视图目录。

## 二、开发指南

### “config”模块

“config”模块主要是配置项目的一些基本参数。

| 名称        | 类型 | 描述                                                 |
| ----------- | ---- | ---------------------------------------------------- |
| base_server | 变量 | 服务器接口地址                                       |
| tableName   | 变量 | 本地存储表名（token等都会存储在本地中）              |
| pageTabs    | 变量 | 是否开启多标签模式，(**不分离版本在index.js中配置**) |
| getToken    | 方法 | 获取缓存的token                                      |
| putToken    | 方法 | 缓存token                                            |
| removeToken | 方法 | 清除缓存的token                                      |
| menus       | 变量 | 侧导航菜单数组，侧导航根据menus自动渲染              |
| getUser     | 方法 | 获取缓存的用户信息                                   |
| putUser     | 方法 | 缓存用户的信息                                       |

注意：因为我这边的后台返回的token是这样的

```json
{
    "access_token": "950a7cc9-5a8a-42c9-a693-40e817b1a4b0",
    "token_type": "bearer",
    "refresh_token": "773a0fcd-6023-45f8-8848-e141296cb3cb",
    "expires_in": 27036,
    "scope": "select"
}
```

  所以我这边的token不是一个字符串存储的，是用json存储的，getToken返回的是一个json对象， 如果你的token只是一个字符串，请修改getToken方法和admin里面的req方法，当然我建议最好 命令你的后台人员按这个json格式返回数据，这个是一个标准的格式。

## 三、开发样式

layer.icon：

1. OK
2. ❌错误
3. ❓？
4. 🔒无权
5. 😫不开心 - 超时
6. 😄开心

## 四、具体页面逻辑

### 4.1封装ajax请求

具体逻辑：

```javascript
admin.ajax({
   url: 'xxxx',
   data: {
       aa:''
   },
   dataType: 'json',
   type: 'POST',
   success: function(result,status,xhr) {
     
   } 
});
```



## Reference

- 前端文档：https://www.kancloud.cn/sansui/easyweb/2141290