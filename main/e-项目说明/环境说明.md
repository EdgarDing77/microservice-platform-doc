# 环境说明

## Http请求头

```
x-trace-id-header # 日志追踪链路头
x-user-id-header # 用户Id
x-user-header # 用户名username
x-tenant-header # 租户id (String)
x-role-header # 角色
x-account-type-header # 账号类型
```







## 配置文件

Swagger配置：

```yml
djj:
	swagger:
		enable: true # 是否启用(true)
    title: 认证中心
    description: 认证中心接口文档
    version: 1.0.0
    base-package: top.edgarding.uaa.controller
		
djj:
	swagger-agg: # swagger聚合配置
```

分布式锁类型：

```yml
djj:
	lock:
		type: redis 
```

统一缓存管理cacheManager：

```yml
djj:
  cache-manager:
    configs:
      - key: menu
        second: 300
      - key: user
        second: 1800
```

loadbalancer配置：

```yml
djj:
	rest-template:
		maxTotal: 200 # 最大链接数
		maxPreRoute: 50 # 同路由最大并发数
		readTimeout: 30000 # 读取超时时间 单位ms
		connectTimeout: 10000 # 链接超时时间 单位ms
```

审计日志配置：

```yml
djj:
	audit-log:
		enable: false # 默认关闭
		type: logger # db ｜ logger
```

日志链路追踪：

```yaml
djj:
	trace-log:
		enable: false # 默认为false
```

多租户配置：

```yml
djj:
	tenant:
		enable: false # 默认为false
		ignoreTables: # 配置不进行多租户隔离的表名
			- sys_user
			- sys_role_user
			- sys_role_menu
```

mybatis-plus自动填充配置：

```yml
djj:
	mybatis-plus:
		enable: true # 默认为true
		enableInsertFill: true # 启用插入填充 这里指createTime
		enableUpdateFill: true # 启用更新填充 这里指updateTime
```

认证token方式：

```yml
djj:
	oauth2:
		token:
			store:
				type: authJwt # redis, db, authJwt | resJwt(除认证服务外其他服务)
```

